(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{711:()=>{},6229:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(5155),s=r(2115);r(711),r(9511);let i=[{time:1,src:"/sprite/start1.png"},{time:1.5,src:"/sprite/start2.png"},{time:2,src:"/sprite/run1.png"},{time:2.5,src:"/sprite/run2.png"},{time:3,src:"/sprite/run1.png"},{time:3.5,src:"/sprite/run2.png"},{time:4,src:"/sprite/run1.png"},{time:4.5,src:"/sprite/run2.png"},{time:5,src:"/sprite/run1.png"},{time:5.5,src:"/sprite/jump1.png"},{time:6,src:"/sprite/jump2.png"},{time:6.5,src:"/sprite/jump3.png"},{time:7,src:"/sprite/jump4.png"},{time:7.5,src:"/sprite/jump5.png"}];function l(e){let{canvas:t,ctx:r,currentTime:n,isPlaying:l}=e;return(0,s.useEffect)(()=>{if(!t||!r)return;r.clearRect(0,0,t.width,t.height);let e=i.findLast(e=>n>=e.time);if(e){let n=new Image;n.src=e.src,n.onload=()=>{let e=.25*n.width,s=.25*n.height,i=(t.width-e)/2,l=t.height-s-.25*t.height;r.drawImage(n,i,l,e,s)}}},[t,r,n]),null}function a(e){let{currentTime:t,isPlaying:r}=e,i=(0,s.useRef)(null),[a,c]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=i.current;if(!e)return;let t=e.getContext("2d");t&&c(t);let r=()=>{e.width=800,e.height=400};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),(0,n.jsxs)("div",{className:"canvas-wrapper",children:[(0,n.jsx)("canvas",{ref:i,className:"animation-canvas"}),(0,n.jsx)(l,{canvas:i.current,ctx:a,currentTime:t,isPlaying:r})]})}function c(){let e=(0,s.useRef)(null),[t,r]=(0,s.useState)(!1),[i,l]=(0,s.useState)(0),[c,u]=(0,s.useState)(0);(0,s.useEffect)(()=>{console.log("Controller mounted");let t=e.current;if(!t)return void console.log("Audio element not found");let r=()=>{l(t.currentTime)},n=()=>{t.duration&&!c&&u(t.duration)};t.addEventListener("timeupdate",r),t.addEventListener("loadedmetadata",n);let s=setTimeout(n,1500);return()=>{t.removeEventListener("timeupdate",r),t.removeEventListener("loadedmetadata",n),clearTimeout(s)}},[c]);let o=e=>{let t=Math.floor(e/60),r=Math.floor(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(r)},d=c?i/c*100:0;return(0,n.jsxs)("div",{className:"controller",children:[(0,n.jsxs)("audio",{ref:e,preload:"auto",style:{display:"none"},children:[(0,n.jsx)("source",{src:"/music/fennec-takes-charge.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]}),(0,n.jsx)("div",{className:"animation-wrapper",children:(0,n.jsx)(a,{isPlaying:t,currentTime:i})}),(0,n.jsx)("div",{className:"controller-controls",children:(0,n.jsxs)("div",{className:"controller-bar",children:[(0,n.jsxs)("div",{className:"controller-buttons",children:[(0,n.jsx)("button",{onClick:()=>{let t=e.current;t&&(t.paused?(t.play(),r(!0)):(t.pause(),r(!1)))},title:t?"Pause":"Play",children:t?"⏸️":"▶️"}),(0,n.jsx)("button",{onClick:()=>{let t=e.current;t&&(t.pause(),t.currentTime=0,r(!1))},title:"Restart",children:"\uD83D\uDD04"})]}),(0,n.jsx)("div",{className:"controller-track",onClick:t=>{let r=e.current;if(!r||!c)return;let n=t.currentTarget.getBoundingClientRect();r.currentTime=(t.clientX-n.left)/n.width*c},children:(0,n.jsx)("div",{className:"progress",style:{width:"".concat(d,"%")}})}),(0,n.jsxs)("div",{className:"controller-time",children:[o(i)," / ",o(c)]})]})})]})}function u(){return(0,n.jsx)("main",{children:(0,n.jsx)(c,{})})}},8563:(e,t,r)=>{Promise.resolve().then(r.bind(r,6229))},9511:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[65,441,684,358],()=>t(8563)),_N_E=e.O()}]);