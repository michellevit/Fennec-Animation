(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3930:()=>{},4436:(e,t,r)=>{"use strict";r.d(t,{k5:()=>h});var a=r(2115),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=a.createContext&&a.createContext(n),i=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e){return t=>a.createElement(d,o({attr:u({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,u({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:n,size:l,title:s}=e,h=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,i),d=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,h,{className:r,style:u(u({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&a.createElement("title",null,s),e.children)};return void 0!==l?a.createElement(l.Consumer,null,e=>t(e)):t(n)}},8563:(e,t,r)=>{Promise.resolve().then(r.bind(r,8578))},8578:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eo});var a=r(5155),n=r(2115),l=r(9911);r(9014),r(3930);let i=async e=>{let t={},r=e.map(e=>new Promise(r=>{let a=new Image;a.src=e,a.onload=()=>{t[e]=a,r()}}));return await Promise.all(r),t},o={start:0,end:.64},s={start:.64,end:1},u=(e,t,r)=>Math.max(t,Math.min(r,e)),h=(e,t,r)=>u((e-t)/(r-t),0,1),d=e=>e*e*(3-2*e);function c(e,t){let r=t%90/90,a=h(r,o.start,o.end),n=a>0&&a<1?Math.sin(Math.PI*a):0,l=d(n),i=u(h(r,s.start,s.end)/.6,0,1),c=i>0?Math.sin(Math.PI/2*i):0,m=n>.002,f=!m&&c>.002,p=f?c:0,g=d(p),b=.76*e.width,x=.24*e.width,v=.78*e.height,w=.12;if(m)w=Math.max(.6,.12+.88*Math.pow(n,.9));else{let e=0;r>=o.end&&r<o.end+.08&&(e=1-h(r,o.end,o.end+.08));let t=(o.start-.08+1)%1,a=0;t<o.start?r>=t&&r<o.start&&(a=h(r,t,o.start)):(r>=t||r<o.start)&&(a=r>=t?h(r,t,1):h(r,0,o.start)),w=u(.12+.45*Math.max(e,a),.12,.85)}let M=0;return m?M=Math.exp(-Math.pow((n-.18)/.22,2)):r>=o.end&&r<o.end+.08&&(M=1-h(r,o.end,o.end+.08)),{isDay:m,sun:{visible:m,alt:n,easedAlt:l,x:b,y:v+(80-v)*l},moon:{visible:f,alt:p,easedAlt:g,x:x,y:v+(80-v)*g},skyAmt:w,twilightWarm:u(M,0,1)}}let m=e=>Math.max(0,Math.min(1,e)),f=(e,t,r)=>[Math.round(e[0]+(t[0]-e[0])*r),Math.round(e[1]+(t[1]-e[1])*r),Math.round(e[2]+(t[2]-e[2])*r)],p=e=>"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),g=(e,t,r)=>m((e-t)/(r-t)),b=(e,t,r)=>{let a=g(e,t,r);return a*a*(3-2*a)},x=[{key:"scene_1",frames:["/ground/scene_1/scene_a.png","/ground/scene_1/scene_b.png"]},{key:"scene_2",frames:["/ground/scene_2/scene_a.png","/ground/scene_2/scene_b.png"]},{key:"scene_3",frames:["/ground/scene_3/scene_a.png","/ground/scene_3/scene_b.png"]},{key:"scene_4",frames:["/ground/scene_4/scene_a.png","/ground/scene_4/scene_b.png"]}],v=[{from:"scene_1",to:"scene_2",frame:"/ground/transitions/transition_1.png"},{from:"scene_2",to:"scene_3",frame:"/ground/transitions/transition_2.png"},{from:"scene_3",to:"scene_4",frame:"/ground/transitions/transition_3.png"},{from:"scene_4",to:"scene_1",frame:"/ground/transitions/transition_4.png"}],w=[{key:"start",duration:1,frameRate:0,frames:["/sprite/start1.png","/sprite/start2.png"],oneShot:!0,holdLastFrame:!0},{key:"run",duration:"auto",frameRate:9.5,frames:["/sprite/run1.png","/sprite/run2.png"],oneShot:!1,holdLastFrame:!1},{key:"jump",duration:1,frameRate:0,frames:["/sprite/jump1.png","/sprite/jump2.png","/sprite/jump3.png","/sprite/jump4.png","/sprite/jump5.png"],oneShot:!0,holdLastFrame:!1},{key:"disappear",duration:4,frameRate:0,frames:[],oneShot:!1,holdLastFrame:!1}],M={bpm:161.5,framesPerBeat:2,audioLeadSec:1.544,runStartsAtSec:1},y=(()=>{let e=(90-w.reduce((e,t)=>e+("number"==typeof t.duration?t.duration:0),0))/Math.max(1,w.filter(e=>"auto"===e.duration).length),t=0;return w.map(r=>{let a="number"==typeof r.duration?r.duration:e,n={key:r.key,start:t,end:t+a,duration:a,frameRate:r.frameRate,frames:r.frames,oneShot:!!r.oneShot,holdLastFrame:!!r.holdLastFrame};return t+=a,n})})(),j={scale:.2,offsetX:0,offsetY:0};function S(){let e=y.find(e=>"run"===e.key);if(!e)return[];let t=e.start,r=e.duration,a=t+r,n=[];x.forEach((e,t)=>{n.push(...e.frames);let r=x[(t+1)%x.length].key,a=v.find(t=>t.from===e.key&&t.to===r);a&&n.push(a.frame)});let l=x[0].frames,i=l.slice(0,2).concat(l[0]),o=n.length,s=i.length,u=Math.max(0,r-5),h=o>0?u/o:0,d=s>0?5/s:0,c=[],m=t;for(let e of n){let t=m,r=Math.min(m+h,a);r>t&&c.push({imagePath:e,startTime:t,endTime:r}),m=r}for(let e of i){let t=m,r=Math.min(m+d,a);r>t&&c.push({imagePath:e,startTime:t,endTime:r}),m=r}return c.length&&(c[c.length-1].endTime=a),c}let O="/parallax/star.png",P=S(),T=P.length?P[P.length-1].startTime:Number.POSITIVE_INFINITY,_=(e,t,r)=>Math.max(t,Math.min(r,e)),C=e=>{let t=Math.imul(0x9e3779b9^e,0x85ebca6b);return t^=t>>>13,t=Math.imul(t,0xc2b2ae35),((t^=t>>>16)>>>0)/0xffffffff},k=e=>{let t=e.slice();for(let e=t.length-1;e>0;e--){let r=Math.floor(C(12345+e)*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t},I=[],E=[],A=.1379,N=0,L=-1,R=null,F="/parallax/cloud.png",U=(()=>{let e=1337;return()=>{let t=Math.imul((e=e+0x6d2b79f5>>>0)^e>>>15,1|e);return(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/0x100000000}})(),z=(e,t,r)=>Math.max(t,Math.min(r,e)),D=e=>{let t=z(e,0,1);return t*t*(3-2*t)},W=e=>{let t=Math.imul(0x9e3779b9^e,0x85ebca6b);return t^=t>>>13,t=Math.imul(t,0xc2b2ae35),((t^=t>>>16)>>>0)/0xffffffff},B=null,Y=!1,G=null,X=0,K=!1,V=null,q=!1,H=e=>Math.max(0,Math.min(1,e)),J=(e,t,r)=>{let a=H((r-e)/(t-e));return a*a*(3-2*a)},Q=(e,t,r)=>Math.max(t,Math.min(r,e)),Z=S(),$=e=>e.startsWith("/")?e:"/"+e,ee=S(),et=e=>e.startsWith("/")?e:"/"+e,er={enabled:!0,in:{start:0,duration:1.5,ease:"outCubic"},out:{start:82,duration:8,ease:"inCubic"}};function ea(e,t){let r=Math.min(1,Math.max(0,e));return"outCubic"===t?1-Math.pow(1-r,3):Math.pow(r,3)}function en(e){let{canvas:t,ctx:r,currentTime:a}=e,[l,o]=(0,n.useState)({});return(0,n.useEffect)(()=>{let e=[...x.flatMap(e=>e.frames),...v.map(e=>e.frame)];i(Array.from(new Set([...e,...y.flatMap(e=>e.frames),"/elements/sun.png","/elements/moon.png","/parallax/cloud.png","/parallax/star.png","/elements/hole.png"]))).then(o)},[]),(0,n.useEffect)(()=>{if(t&&r&&0!==Object.keys(l).length){r.clearRect(0,0,t.width,t.height),function(e,t,r){var a,n;let{skyAmt:l,twilightWarm:i,sun:o,moon:s}=c(t,r),u=[255,120,40],h=null!=(a=o.alt)?a:-1,d=m(null!=(n=null==s?void 0:s.easedAlt)?n:0),x=b(h,-.05,.1),v=f([15,25,60],[90,165,235],x),w=f([30,40,90],[170,210,245],x),M=1-b(d,.7,.92),y=m((h<0?1-b(-h,.02,.1):0)*(1-b(d,.25,.5))*M*1.5),j=m(y*Math.pow(1-g(-h,.015,.06),2)),S=m((h>=-.15?b(h,-.15,.12)*(1-b(h,.32,.55)):0)*M*1.1),O=Math.max(S,j)*(1-.28*(1-m(Math.abs(h)/.06)))*Math.pow(1-g(-h,.02,.08),2),P=m(b(h,.04,.22)+.35*i*(1-b(d,.25,.45))),T=f(w,[255,180,110],.52*m(P*M*.45+.55*O)+.24*O);T=f(T,u,.25*S+.32*j),T=f(T,[230,60,60],.22*j),T=f(T,[255,165,130],.08*j);let _=f(u,[252,95,160],.25*j),C=f(v,[120,100,210],.05*S+.16*j);C=f(C,[75,70,150],.07*j);let k=f(C,_,.18*j),I=f(k,T,.5+.1*O),E=.04*j,A=m(.55+.08*(1-x)-.08*O-E),N=m(.8+.05*(1-x)-.09*O-E),L=m(A-.03*j),R=m(N-.06*j),F=e=>m(.75*e),U=e.createLinearGradient(0,0,0,t.height);U.addColorStop(F(0),p(C)),U.addColorStop(F(L),p(I)),U.addColorStop(F(R),p(T)),U.addColorStop(.75,p(T)),U.addColorStop(1,p(T)),e.fillStyle=U,e.fillRect(0,0,t.width,t.height)}(r,t,a);let e=l["/elements/sun.png"],n=l["/elements/moon.png"],{sun:i,moon:o}=c(t,a);(i.visible||o.visible)&&(i.visible?(r.save(),r.globalCompositeOperation="source-over",e?r.drawImage(e,i.x-e.width/2,i.y-e.height/2):(r.fillStyle="rgba(255,220,120,0.95)",r.beginPath(),r.arc(i.x,i.y,50,0,2*Math.PI),r.fill())):(r.save(),r.globalCompositeOperation="source-over",n?r.drawImage(n,o.x-n.width/2,o.y-n.height/2):(r.fillStyle="rgba(210,230,255,0.95)",r.beginPath(),r.arc(o.x,o.y,50,0,2*Math.PI),r.fill())),r.restore()),function(e,t,r,a){if(!function(e,t){let r=t[O];if(r){if(24!==I.length){let t=.3*e.height,a=function(e,t,r){let a=r/25*.18,n=[];for(let l=0;l<24;l++){let i=(l+1)/(e+1),o=2*C(1e3+l)-1;n.push(_(4+i*r+o*a,4,t+r))}return n}(24,4,t),n=[];for(let e=0;e<24;e++){let l=.26+.28*C(3e3+e),i=Math.max(2,r.width*l),o=Math.max(2,r.height*l),s=a[e],u=14*(.85+.9*_((s-4)/Math.max(1,t),0,1))*(.9+.2*C(7007+e));n.push({kind:"star",src:O,y:s,w:i,h:o,baseAlpha:1,alive:!1,x:0,lastT:0,speed0:u,spawnAt:0,boostUntil:0,boostMul:3})}I=n}24!==E.length&&(E=k([...Array(24).keys()]))}}(t,a),24!==I.length||24!==E.length)return;let{sun:n}=c(t,r),l=!!(null==n?void 0:n.visible),i=r<T;if(null===R&&(R=l),R&&!l&&(N=0,L=i?r-.3:-1),!R&&l)for(let e of(N=0,L=-1,I))e.alive=!1;R=l;let o=!l&&i;if(o)for(L<0&&(L=r-.2);N<12&&r>=L;)!function(e,t,r){if(24!==E.length)return;let a=r.width,n=I[E[e%24]];if(!n)return;let l=.9*a,i=A=(A+.6180339887498949)%1,o=(C(54321+e)-.5)*(l/24)*.1;n.alive=!0,n.x=a+i*l+o,n.lastT=t,n.spawnAt=t,n.boostUntil=t+.2}(N,r,t),N++,L+=.055;else L=-1;for(let n of I){let l=a[n.src];if(!l||!n.alive)continue;let i=Math.max(0,r-n.lastT);n.lastT=r;let s=o?n.speed0:0;n.x-=s*i;let u=t.width,h=u+n.w;if(o)for(;n.x<-n.w;)n.x+=h;else if(n.x<-n.w){n.alive=!1;continue}e.save(),e.globalAlpha=n.baseAlpha,e.globalCompositeOperation="lighter",e.drawImage(l,Math.round(n.x),Math.round(n.y),n.w,n.h),o&&n.x+n.w<u&&e.drawImage(l,Math.round(n.x+h),Math.round(n.y),n.w,n.h),e.restore()}}(r,t,a,l),function(e,t,r,a){var n,l;if(!function(e,t){if(B)return;let r=t[F];if(!r)return;let a=e.height,n=function(e,t,r){let a=[],n=r/11,l=.18*n;for(let e=0;e<10;e++){let i=t+n*(e+1),o=2*W(1e3+e)-1;a.push(z(i+o*l,t,t+r))}return a}(10,Math.round(.04*a),Math.round(.36*a)),l=[];for(let e=0;e<n.length;e++){let t=.55+1.1*U(),a=r.width*t,i=r.height*t,o=(28+16*U())*(1-(Math.min(1.65,Math.max(.55,t))-.55)*.08);l.push({kind:"cloud",src:F,y:n[e],w:a,h:i,baseAlpha:1,alive:!1,x:0,lastT:0,speed0:o,spawnAt:0,boostUntil:0,boostMul:1,orderIdx:e})}B=l}(t,a),!B)return;let{sun:i}=c(t,r),o=!!(null==i?void 0:i.visible);if(null===G&&(G=o),G&&!o&&(Y=!1,X=0,K=!1,V=null,q=!1),!G&&o){for(let e of(Y=!1,B))e.alive=!1;X=0,K=!1,V=null,q=!1}G=o;let s=t.width,u=t.height,h=z(null!=(n=null==i?void 0:i.easedAlt)?n:0,0,1),d=i?i.y/u:1;o?h>X?X=h:h<X-.001&&(K=!0):(X=0,K=!1);let m=null!==V&&d<V;V=d;let f=o&&m&&d<=.4&&!K,p=null!=(l=null==i?void 0:i.easedAlt)?l:0,g=p>.36?1:D((p-.3)/.06),b=f||p>.3;if(b&&!Y&&(!function(e,t){if(!B)return;let r=t.width,a=2.3*r;for(let t=0;t<B.length;t++){let n=B[t];n.alive=!0,n.x=r+(t+.5)*.61803398875%1*a+(U()-.5)*10,n.lastT=e,n.spawnAt=e,n.boostUntil=e}}(r,t),Y=!0),!b&&q)for(let e of B)e.alive&&e.x>s-1&&(e.alive=!1);q=b;let x=z((.5-d)/.5,0,1),v=Math.min(3,Math.max(0,Math.ceil(10*z(1-x,0,1)*Math.pow(g,1.2)))),w=e=>b&&e.orderIdx<v;for(let t of B){let n=a[t.src];if(!n||!t.alive)continue;let l=Math.max(0,r-t.lastT);t.lastT=r;let i=t.speed0*(p<=.3?1.8:1);t.x-=i*l;let o=s+t.w,u=w(t);if(u)for(;t.x<-t.w;)t.x+=o;else if(t.x<-t.w){t.alive=!1;continue}e.save(),e.globalAlpha=t.baseAlpha,e.globalCompositeOperation="source-over",e.drawImage(n,Math.round(t.x),Math.round(t.y),t.w,t.h),u&&t.x+t.w<s&&e.drawImage(n,Math.round(t.x+o),Math.round(t.y),t.w,t.h),e.restore()}}(r,t,a,l),function(e,t,r){let a=c(t,r),n=a.isDay,l=n?{x:a.sun.x,y:a.sun.y,eased:a.sun.easedAlt}:{x:a.moon.x,y:a.moon.y,eased:a.moon.easedAlt},i=Q(n?.55+.35*l.eased:.3+.28*(1-a.skyAmt)+.1*l.eased,.22,n?.92:.62),o=n?280:200;e.save(),e.globalCompositeOperation="lighter",e.filter="blur(".concat(n?12:10,"px)"),e.globalAlpha=i;let s=e.createRadialGradient(l.x,l.y,20,l.x,l.y,o);n?(s.addColorStop(0,"rgba(255,240,200,0.65)"),s.addColorStop(.25,"rgba(255,225,160,0.34)"),s.addColorStop(.55,"rgba(255,210,120,0.16)"),s.addColorStop(.85,"rgba(255,200,100,0.06)"),s.addColorStop(1,"rgba(255,200,100,0.00)")):(s.addColorStop(0,"rgba(210,230,255,0.40)"),s.addColorStop(.3,"rgba(200,220,255,0.22)"),s.addColorStop(.6,"rgba(190,210,255,0.10)"),s.addColorStop(.88,"rgba(190,210,255,0.04)"),s.addColorStop(1,"rgba(190,210,255,0.00)")),e.fillStyle=s,e.beginPath(),e.arc(l.x,l.y,o,0,2*Math.PI),e.fill(),e.restore(),e.filter="none"}(r,t,a),function(e,t,r,a){var n,l,i;let o=Z.findIndex(e=>r>=e.startTime&&r<e.endTime);if(-1===o){let i=a[$((r<(null!=(l=null==(n=Z[0])?void 0:n.startTime)?l:0)?Z[0]:Z.at(-1)).imagePath)];if(i){let r=t.height-i.height;e.drawImage(i,0,r)}return}let s=Z[o],u=Z[o+1],h=a[$(s.imagePath)];if(!h)return;if(!u){let r=t.height-h.height;e.drawImage(h,0,r);return}let d=(r-s.startTime)/(s.endTime-s.startTime),c=null!=(i=a[$(u.imagePath)])?i:h,m=t.width,f=m*Math.min(Math.max(d,0),1),p=t.height-h.height;e.drawImage(h,-f,p),e.drawImage(c,m-f,p)}(r,t,a,l),function(e,t,r,a){let n=function(){let e=S();return e.length<2?0:e[e.length-1].startTime}();if(r<1){let n=["/sprite/start1.png","/sprite/start2.png"],l=Math.min(1,Math.floor(r/1*n.length)),i=a[n[l]];if(!i)return;let{scale:o,offsetX:s,offsetY:u}=j,h=i.width*o,d=i.height*o,c=(t.width-h)/2+s,m=t.height-d-t.height*u;e.drawImage(i,c,m,h,d);return}if(r<n){let n=["/sprite/run1.png","/sprite/run2.png"],l=Math.floor(Math.max(0,r+M.audioLeadSec-M.runStartsAtSec)*(M.bpm/60)*M.framesPerBeat)%n.length,i=a[n[l]];if(!i)return;let{scale:o,offsetX:s,offsetY:u}=j,h=i.width*o,d=i.height*o,c=(t.width-h)/2+s,m=t.height-d-t.height*u;e.drawImage(i,c,m,h,d);return}if(r<n+1){let l=["/sprite/jump1.png","/sprite/jump2.png","/sprite/jump3.png","/sprite/jump4.png","/sprite/jump5.png"],i=1/l.length,o=Math.min(l.length-1,Math.floor((r-n)/i)),s=a[l[o]];if(!s)return;let{scale:u,offsetX:h,offsetY:d}=j,c=s.width*u,m=s.height*u,f=(t.width-c)/2+h,p=t.height-m-t.height*d;e.drawImage(s,f,p,c,m)}}(r,t,a,l),function(e,t,r,a){let n=a["/elements/hole.png"];if(!n||!ee.length)return;let l=ee.findIndex(e=>r>=e.startTime&&r<e.endTime);if(-1===l){if(r<ee[0].startTime)return;let l=a[et(ee[ee.length-1].imagePath)];if(!l)return;let i=t.height-l.height,o=(t.width-100)/2;e.drawImage(n,o,i+275,100,100);return}let i=ee.length-1,o=ee[l],s=a[et(o.imagePath)];if(!s)return;let u=t.height-s.height,h=l<i?ee[l+1]:void 0,d=h?a[et(h.imagePath)]:void 0,c=d?t.height-d.height:u,m=(t.width-100)/2;if(l===i-1&&h){let a=Math.min(1,Math.max(0,(r-o.startTime)/(o.endTime-o.startTime))),l=t.width;e.drawImage(n,l-l*a+m,c+275,100,100);return}l!==i||h||e.drawImage(n,m,u+275,100,100)}(r,t,a,l),function(e,t,r){let{skyAmt:a,twilightWarm:n,sun:l}=c(t,r),i=1-J(.12,.35,l.easedAlt),o=1-.35*H(n),s=Math.pow(1-a,1)*(1-.45*H(n)),u=J(-.05,.1,l.alt),h=(1-u)*s+i*o*u,d=Math.max(0,Math.min(.48,.48*(h*=1+.12*(1-H(Math.abs(l.alt)/.045)))));d<=.002||(e.save(),e.globalCompositeOperation="source-over",e.globalAlpha=1,e.fillStyle="rgba(0,0,0,".concat(d,")"),e.fillRect(0,0,t.width,t.height),e.restore())}(r,t,a),function(e,t,r){let{enabled:a,in:n,out:l}=er;if(!a)return;let i=0;r>=n.start&&r<n.start+n.duration?i=Math.max(i,1-ea((r-n.start)/n.duration,n.ease)):r<n.start&&(i=Math.max(i,1)),r>=l.start&&(i=Math.max(i,ea((r-l.start)/l.duration,l.ease))),i<=0||(e.save(),e.globalAlpha=i,e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.restore())}(r,t,a)}},[t,r,a,l]),null}function el(e){let{currentTime:t,isPlaying:r}=e,l=(0,n.useRef)(null),[i,o]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=l.current;if(!e)return;let t=e.getContext("2d");t&&o(t);let r=()=>{e.width=800,e.height=400};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),(0,a.jsxs)("div",{className:"canvas-wrapper",children:[(0,a.jsx)("canvas",{ref:l,className:"animation-canvas"}),(0,a.jsx)(en,{canvas:l.current,ctx:i,currentTime:t,isPlaying:r})]})}function ei(){let e=(0,n.useRef)(null),[t,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(0),[s,u]=(0,n.useState)(0),h=()=>{let t=e.current;t&&(t.pause(),t.currentTime=0,r(!1),o(0))};(0,n.useEffect)(()=>{let t=e.current;if(!t)return;let r=()=>o(t.currentTime),a=()=>{t.duration&&0===s&&u(t.duration)},n=()=>h();t.addEventListener("timeupdate",r),t.addEventListener("loadedmetadata",a),t.addEventListener("ended",n);let l=setTimeout(a,1500);return()=>{t.removeEventListener("timeupdate",r),t.removeEventListener("loadedmetadata",a),t.removeEventListener("ended",n),clearTimeout(l)}},[s]),(0,n.useEffect)(()=>{i>=90&&h()},[i]);let d=e=>{let t=Math.floor(e/60),r=Math.floor(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(r)},c=s?i/s*100:0;return(0,a.jsxs)("div",{className:"controller",children:[(0,a.jsxs)("audio",{ref:e,preload:"auto",style:{display:"none"},children:[(0,a.jsx)("source",{src:"/music/song.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]}),(0,a.jsx)("div",{className:"animation-wrapper",children:(0,a.jsx)(el,{isPlaying:t,currentTime:Math.max(0,i-.5)})}),(0,a.jsx)("div",{className:"controller-controls",children:(0,a.jsxs)("div",{className:"controller-bar",children:[(0,a.jsxs)("div",{className:"controller-buttons",children:[(0,a.jsx)("button",{onClick:()=>{let t=e.current;t&&(t.paused?(t.play(),r(!0)):(t.pause(),r(!1)))},onMouseUp:e=>e.currentTarget.blur(),"aria-label":t?"Pause":"Play",children:t?(0,a.jsx)(l.kwt,{"aria-hidden":"true"}):(0,a.jsx)(l.gSK,{"aria-hidden":"true"})}),(0,a.jsx)("button",{onClick:h,onMouseUp:e=>e.currentTarget.blur(),"aria-label":"Restart",children:(0,a.jsx)(l.Swo,{"aria-hidden":"true"})})]}),(0,a.jsx)("div",{className:"controller-track",onClick:t=>{let r=e.current;if(!r||!s)return;let a=t.currentTarget.getBoundingClientRect();r.currentTime=(t.clientX-a.left)/a.width*s},children:(0,a.jsx)("div",{className:"progress",style:{width:"".concat(c,"%")}})}),(0,a.jsxs)("div",{className:"controller-time",children:[d(i)," / ",d(s)]})]})})]})}function eo(){return(0,a.jsx)("main",{children:(0,a.jsx)(ei,{})})}},9014:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[233,711,441,684,358],()=>t(8563)),_N_E=e.O()}]);